<!--
 * @Author: your name
 * @Date: 2020-11-09 14:53:34
 * @LastEditTime: 2020-12-01 16:59:27
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \js\js\test.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<body>
    <script>
        let lightList = [{
            color: "red",
            second: 3,
        }, {
            color: "green",
            second: 2,
        }, {
            color: "yellow",
            second: 1,
        }, ];
        //对list进行某种操作
        function loopLight(list) {
            let promise = Promise.resolve();
            list.forEach((item) => {
                promise = promise.then(() => {
                    return lightUp(item.color, item.second);
                });
            });
        }
        //亮灯
        function lightUp(color, second) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log(color);
                    resolve();
                }, second * 1000);
            });
        }

        loopLight(lightList);
    </script>
</body>

</html>